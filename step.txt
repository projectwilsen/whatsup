1. Create .github folder
2. Create workflows folder inside of .github
3. Create actions.yaml file inside of workflows folder
4. Paste this

name: ETL for Whatsup Project

on:
  workflow_dispatch:
  push:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest
    steps:

      - name: checkout repo content
        uses: actions/checkout@v2 # checkout the repository content to github runner

      - name: setup python
        uses: actions/setup-python@v4
        with:
          python-version: '3.9' # install the python version needed
          
      - name: install python packages
        run: |
          cd etl
          python -m pip install --upgrade pip
          pip install -r requirements.txt
          
      - name: execute py script # run main.py
        env:
            SUPABASE_URL: ${{ secrets.SUPABASE_URL }}
            SUPABASE_KEY: ${{ secrets.SUPABASE_KEY }}
            GROQ_API_KEY: ${{ secrets.GROQ_API_KEY }}
        run: |
          cd etl
          python etl.py

5. Set up environment variable in github if you have

6. In case you need to save file in github then you need to do git push, in my experience, i need this to save my backup data, and logging

      # - name: commit files
      #   run: |
      #     git config --local user.email "action@github.com"
      #     git config --local user.name "GitHub Action"
      #     git add -A
      #     git diff-index --quiet HEAD || (git commit -a -m "updated logs" --allow-empty)
          
      # - name: push changes
      #   uses: ad-m/github-push-action@v0.6.0
      #   with:
      #     github_token: ${{ secrets.GITHUB_TOKEN }}
      #     branch: main 

7. Add scheduler
  # schedule:
  #   - cron: '0 0 * * 1' 
